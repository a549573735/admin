define("",["lib_cmd/vue-cmd","/js_cmd/components/select","/js_cmd/components/admin_select","/js_cmd/components/paging","/js_cmd/components/tables/admin_handle_tables_company"],function(require,exports,module){var a=require("lib_cmd/vue-cmd");require("/js_cmd/components/select"),require("/js_cmd/components/admin_select"),require("/js_cmd/components/paging"),require("/js_cmd/components/tables/admin_handle_tables_company"),new a({el:"#handle-table",data:{tablsData:function(){var a=JSON.parse($(".data_tabls").val());return a.detals=!0,a}(),parkId:"",page:0,marketId:"",selectsubset:""},methods:{searchData:function(){var a=this,e={businesses:$("input[name=businesses]").val(),company:$("input[name=company]").val(),customer:$("input[name=customer]").val(),market:$("#select_market").val(),page:this.page,park:$("#select_park").val(),producer:$("input[name=producer]").val(),product:$("input[name=product]").val(),provider:$("input[name=provider]").val(),size:15,id:$("#select_park").val()};this.parkId=$("#select_park").val(),$.post("/admin/company",e).then(function(e){e.detals=!0,a.tablsData=e.data,console.log(JSON.stringify(e))})},createCompany:function(a){var e={address:$("input[name=admin-address]").val(),belongId:this.parkId,businesses:$("input[name=admin-businesses]").val(),certificate:$("input[name=admin-certificate]").val(),expireDate:$("input[name=admin-expireDate]").val(),contact:$("input[name=admin-contact]").val(),name:$("input[name=admin-company]").val(),phone:$("input[name=admin-phone]").val(),username:$("input[name=admin-username]").val(),mail:$(".admin-email").val(),admin:$(".admin-admin").val(),id:$(".admin-id").val()},n=Common.checkEmpty($("#modal-addCompany").find("input[type=text]")),t=Common.checkEmail($(".admin-email"));return"false"==n.state?(alert(n.message),!1):"false"==t.state?(alert(n.message),!1):void("modify"==$(".admin-type").val()?$.post("/admin/company/modify",e).then(function(a){a.success?alert("修改成功"):(console.log(a.errMessage),alert("修改失败"))}):$.post("/api/company/add",e).then(function(a){a.success?($("#modal-addCompany").find("input").val(""),$("#modal-addCompany").find("select").val("0"),alert("新增成功"),Common):(console.log(a.errMessage),alert("新增失败"))}))}},events:{"send-select-admin":function(a){this.parkId=a},"send-page":function(a){this.tablsData.page=a;var e=this,n={page:a-1,id:this.parkId,park:this.parkId};$.post("/admin/company",n).then(function(a){a.detals=!0,e.tablsData=a.data})},"send-selectId":function(a){this.parkId=a.parkId,this.marketId=a.marketId,this.selectsubset=a.selectIds,console.log(JSON.stringify(this.selectsubset))}}})});