define("",["/lib_cmd/vue-cmd","/js_cmd/components/paging","/js_cmd/components/user_radio"],function(require,exports,module){var e=require("/lib_cmd/vue-cmd");require("/js_cmd/components/paging"),require("/js_cmd/components/user_radio"),new e({el:"#app",data:{put_id:"",listData:function(){var e=[];return $.ajax({url:"/api/user/edit/list",dataType:"json",async:!1,type:"GET",success:function(t){console.log(JSON.stringify(t)),t.success?e=t.content:alert(t.errMessage)}}),e}(),id:"",roleSelect:function(){return JSON.parse($("#role_select").val())}()},methods:{deleteUser:function(){var e=[];$(".user-checked").find("input").each(function(t,a){$(a).prop("checked")&&e.push($(a).val())}),$.ajax({url:"/delete/user",dataType:"json",async:!1,data:{user:e},type:"POST",success:function(e){e.success?(alert("删除成功"),window.location.reload()):alert("删除失败")},error:function(e){alert(e.msg)}})},getMsg:function(e){var t=$(e.target).closest("tr"),a=$(e.target).attr("data-id"),s=$(e.target).attr("data-belongId"),n=$(e.target).attr("data-type");$(".model-displayName").val(t.find(".displayName").html()),$(".model-username").val(t.find(".username").html()),$(".model-phone").val(t.find(".phone").html()),$(".model-mail").val(t.find(".mail").html()),$(".model-id").val(a),$(".model-belongId").val(s),$(".model-type").val(n)},putUser:function(){$(".model-put-btn").on("click",function(){var e={displayName:$(".model-displayName").val(),username:$(".model-username").val(),phone:$(".model-phone").val(),mail:$(".model-mail").val(),password:$(".model-password").val(),id:$(".model-id").val(),belongId:$(".model-belongId").val(),type:$(".model-type").val(),roleId:$("#select-role-id").val(),roleName:$("#select-role-id").find("option:selected").text()};$.ajax({url:"/put/user",dataType:"json",async:!0,data:e,type:"POST",success:function(e){e.success?(alert("修改成功"),window.location.reload()):alert(e.errMessage)},error:function(e){console.log(e)}})})}(),restPassword:function(e){var t=$(e.target).attr("data-id");console.log(t),$.post("/reset/user/password",{id:t}).then(function(e){e.success?alert("重置成功，密码将会发入填写的邮箱中"):alert(e.errMessage)})}},events:{"send-radio":function(e){},"send-select":function(e){var t=this;this.id=e,$.get("/api/user/edit/list?page="+this.page+"&id="+this.id).then(function(e){t.listData=e.content})},"send-page":function(e){this.page=e-1;var t=this;$.get("/api/user/edit/list?page="+this.listData.page+"&id="+this.id).then(function(e){t.listData=e.content})}}})});