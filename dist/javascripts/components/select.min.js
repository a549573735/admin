define("",["lib_cmd/vue-cmd"],function(require,exports,module){var e=require("lib_cmd/vue-cmd");e.component("v-select",{props:["role"],data:function(){return{_id:1,state:!1,selectdata:function(){var e=null;return $.ajax({url:"/market/brief",dataType:"json",async:!1,type:"GET",success:function(t){e=t.content},error:function(e){alert(e.msg)}}),e}(),selectsubset:function(){var e=$.query.get("market"),t=[];return e&&$.ajax({url:"/park/briefall/"+e,dataType:"json",async:!1,type:"GET",success:function(e){t=e.content},error:function(e){alert(e.msg)}}),t}(),marketId:function(){return $.query.get("market")}(),type:"DISTRICT",parkId:function(){return $.query.get("park")}(),parkType:"PARK"}},template:'<label class="col-md-1 o-pd-r v-label" for="val-skill">市场所：</label>\t                         <div class="col-md-2 o-pd">\t                                 <select class="form-control" id="select_market" :disabled="role.type!= type" name="market" @change="selectChange($event)">\t                                     <option value="0">请选择</option>                                       <option v-for="item in selectdata" :selected="marketId==item.id?true:false" :value="item.id">{{item.name}}</option>\t                                 </select>\t                         </div>\t                          <label class="col-md-1 o-pd-r v-label text-center" for="val-skill2">园区：</label>\t                                 <div class="col-md-2 o-pd" >\t                                   <select class="form-control" id="select_park" :disabled="role.type== parkType " name="park"  @change="sendVal($event)">\t                                         <option value="0">请选择</option>                                           <option v-for="item in selectsubset" :selected="parkId==item.id?true:false" :value="item.id">{{item.name}}</option>\t                                   </select>\t                          </div>',methods:{selectChange:function(e){var t=this;if("0"==$(e.target).val())this._id=1,this.state=!1;else{this.state=!0,this._id=$(e.target).val();var t=this;console.log(this._id),$.ajax({url:"/park/briefall/"+t._id,dataType:"json",async:!1,type:"GET",success:function(e){console.log(JSON.stringify(e.content)),t.selectsubset=e.content},error:function(e){alert(e.msg)}})}},sendVal:function(e){var t=$(e.target).val();console.log(t),this.$dispatch("send-select",t)}}})});